<html>
  <head>
    <!-- Main app stylesheet-->
    <link rel="stylesheet" href="css/app.css">
    <!-- Material Design Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Vue.JS -->
    <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
  </head>
  <body>
    <div id="vm">
      <div class="nav dark-grey white--text">
          <a class="nav-item selectable--text" @click="fileMenu">File</a>
          <img src="img/nav_separator.svg" class="nav-item cursor-default">
          <a class="nav-item selectable--text">Settings</a>
          <h2 class="yellow--text nav-item--push cursor-default"><strong>Alcolator</strong></h2>
          <img src="img/nav_separator.svg" class="nav-item cursor-default" style="opacity: 0.2">
          <i class="material-icons nav-icon nav-item selectable--text" style="margin-bottom: 6px;">minimize</i>
          <i class="material-icons nav-icon nav-item selectable--text" style="margin-right: 9px;" @click="winClose">close</i>
      </div>
      <div class="flexbox-row">
        <div class="flexbox-column--list light-grey">
          <div class="flexbox-row--align">
            <strong><h2 style="margin: 10px;">Records</h2></strong>
          </div>   
          <div class="vertical-scroll">
            <record
              v-for="record in records"
              v-bind:key="record.id"
              v-bind:record="record"
              @click.native="loadPrevRecord($event, record.id)">
            </record>
          </div>
        </div>
        <div class="flexbox-column--dat pad--10px">
          <template v-if="isNewStart">
            <h3 style="margin-top: 15px; margin-left: 15px; margin-bottom: 0;">Please select an operation.</h3>
            <div class="flexbox-row pad--10px" style="height: 63%;"></div>
          </template>
          <template v-else>
            <template v-if="isViewingSubject">
              <strong><h4 style="margin-top: 15px; margin-left: 15px; margin-bottom: 0;">Viewing Subject {{selected.subject_code}}</h4></strong>
            </template>
            <template v-else-if="isBacMode">
              <strong><h4 style="margin-top: 15px; margin-left: 15px; margin-bottom: 0;">Subject {{selected.subject_code}} - In Progress</h4></strong>
            </template>
            <template v-else>
              <strong><h4 style="margin-top: 15px; margin-left: 15px; margin-bottom: 0;">New Subject {{selected.subject_code}}</h4></strong>
            </template>
            <div class="flexbox-row pad--10px" style="height: 63%;">
              <div class="flexbox-column" style="width: 50%;">
                <h3 class="margin-tb--10px"><strong>General Information</strong></h3>
                <div class="flexbox-row--alignright margin-tb--13px">
                  <h3 class="margin-input input-label semibold">Age (years): </h3>
                  <template v-if="isViewingSubject || isBacMode">
                    <input readonly class="locked-grey border--black regular--dat" type="text" id="age" v-model="selected.age">
                    <i class="material-icons lock">lock</i>
                  </template>
                  <template v-else>
                    <input class="light-grey border--black regular--dat" type="text" id="age">
                  </template>
                </div>
                <div class="flexbox-row--alignright margin-tb--13px">
                  <h3 class="margin-input input-label semibold">Gender: </h3>
                  <template v-if="isViewingSubject || isBacMode">
                    <input readonly class="locked-grey border--black regular--dat" type="text" id="gender" v-model="selected.gender">
                    <i class="material-icons lock">lock</i>
                  </template>
                  <template v-else>
                    <input class="light-grey border--black regular--dat" type="text" id="gender">
                  </template>
                </div>
                <div class="flexbox-row--alignright margin-tb--13px">
                  <h3 class="margin-input input-label semibold">Height (m): </h3>
                  <template v-if="isViewingSubject || isBacMode">
                    <input readonly class="locked-grey border--black regular--dat" type="text" id="height" v-model="selected.height">
                    <i class="material-icons lock">lock</i>
                  </template>
                  <template v-else>
                    <input class="light-grey border--black regular--dat" type="text" id="height">
                  </template>
                </div>
                <div class="flexbox-row--alignright margin-tb--13px">
                  <h3 class="margin-input input-label semibold">Weight (kg): </h3>
                  <template v-if="isViewingSubject || isBacMode">
                    <input readonly class="locked-grey border--black regular--dat" type="text" id="weight" v-model="selected.weight">
                    <i class="material-icons lock">lock</i>
                  </template>
                  <template v-else>
                    <input class="light-grey border--black regular--dat" type="text" id="weight">
                  </template>
                </div>
              </div>
              <div class="flexbox-column" style="width: 50%;">
                <h3 class="margin-tb--10px"><strong>Calculate Target Consumption</strong></h3>
                <div class="flexbox-row--alignright margin-tb--13px">
                  <h3 class="margin-input input-label semibold">Target BAC: </h3>
                  <template v-if="isViewingSubject || isBacMode">
                    <input readonly class="locked-grey border--black regular--dat" type="text" id="targetBAC" v-model="selected.target_bac">
                  <i class="material-icons lock">lock</i>
                  </template>
                  <template v-else>
                    <input class="light-grey border--black regular--dat" type="text" id="targetBAC">
                  </template>
                </div>
                <div class="flexbox-row--alignright margin-tb--13px">
                  <h3 class="margin-input input-label semibold">Reach at: </h3>
                  <template v-if="isViewingSubject || isBacMode">
                    <input readonly class="locked-grey border--black regular--dat" type="text" id="bacReachTime" v-model="selected.target_bac_time">
                  <i class="material-icons lock">lock</i>
                  </template>
                  <template v-else>
                    <input class="light-grey border--black regular--dat" type="text" id="bacReachTime">
                  </template>
                </div>
                <div class="flexbox-row--alignright margin-tb--13px">
                  <template v-if="isViewingSubject">
                    <h3 class="margin-input input-label semibold">Recorded at: </h3>
                    <input readonly class="locked-grey border--black regular--dat" type="text" id="timeRecorded" v-model="selected.actual_bac_time">
                    <i class="material-icons lock">lock</i>
                  </template>
                  <template v-else-if="isBacMode">
                    <h3 class="margin-input input-label semibold">Actual BAC: </h3>
                    <input class="light-grey border--black regular--dat" type="text" id="bacActual">
                  </template>
                  <template v-else>
                    <h3 class="margin-input input-label semibold">Measure in: </h3>
                    <input class="light-grey border--black regular--dat" type="text" id="measUnit">
                  </template>
                </div>
                <template v-if="isViewingSubject">
                  <div class="flexbox-row--alignright margin-tb--13px">
                    <h3 class="margin-input input-label semibold">Actual BAC: </h3>
                    <input readonly class="locked-grey border--black regular--dat" type="text" id="bacActual" v-model="selected.actual_bac">
                    <i class="material-icons lock">lock</i>
                  </div>
                </template>
                <template v-else-if="isBacMode">
                  <div class="flexbox-row--alignright margin-tb--13px" style="justify-content: flex-end;">
                    <button class="normal red white--text selectable" style="margin-right: 25px;" id="calculate">Record Actual BAC</button>
                  </div>                
                </template>
                <template v-else>
                  <div class="flexbox-row--alignright margin-tb--13px" style="justify-content: flex-end;">
                    <button class="normal red white--text selectable" style="margin-right: 25px;" id="calculate">Calculate</button>
                  </div>
                </template>
              </div>
            </div>
          </template>
          
          <div class="flexbox-column light-grey" style="height: 37%;">
            <strong><h2 style="margin: 5px;">Results</h2></strong>
            <!-- <button class="dark-grey white--text selectable" id="calculate">Administer</button> -->
            <img src="img/bottle.png" alt="beer bottle" class="nav-item--push" style="align-self: flex-end; margin-bottom: 0; margin-right: 20px; z-index: -2;" width="209px" height="145px">
          </div>
        </div>
        
        <div class="modal">
          <div class="modal--settings centred-settings white">
            <h1 style="font-size: 28px; margin: 0;">Settings</h1>
            <h3 class="semibold" style="font-size: 18px; margin-bottom: 30px;"><strong>Currently Logged-In:</strong> Jane Doe</h3>
            <h2 style="font-weight: bold; margin-bottom: 5px;">Beverages</h2>
            <div class="flexbox-row">
              <!-- TODO fix alignment issues -->
              <div class="flexbox-column" style="width: 50%; padding-right: 30px;">
                <h3 style="font-size: 18px; font-weight: bold; margin: 0;">Add New Beverage: </h3>
                <div class="flexbox-row--alignleft margin-tb--10px">
                  <h3 class="margin-input input-label semibold">Name: </h3>
                  <input class="light-grey border--black regular short" type="text" id="newBevName">
                </div>
                <div class="flexbox-row--alignleft margin-tb--10px">
                  <h3 class="margin-input input-label semibold">Alc. %: </h3>
                  <input class="light-grey border--black regular short" type="text" id="newBevConc">
                </div>
              </div>
              <div class="flexbox-column" style="padding-right: 30px;">
                <h3 style="font-size: 18px; font-weight: bold; margin: 0;">Change Alc. %: </h3>
                <div class="flexbox-row--alignleft margin-tb--10px">
                  <h3 class="margin-input input-label semibold">Select: </h3>
                  <input class="light-grey border--black regular short" type="text" id="bevName">
                </div>
                <div class="flexbox-row--alignleft margin-tb--10px">
                  <h3 class="margin-input input-label semibold">Alc. %: </h3>
                  <input class="light-grey border--black regular short" type="text" id="changeBevConc">
                </div>
                <div class="flexbox-row--alignright" style="margin-top: 20px; margin-left: 20px; width: 100%;">
                  <button class="dark-grey white--text selectable" style="margin-right: 5px;">Save</button>
                  <button class="dark-grey white--text selectable" style="margin-left: 5px;">Close</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Page Script -->
    <script src="js/main.js"></script>
  </body>
</html>